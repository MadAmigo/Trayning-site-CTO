/*! For license information please see 220.98256e29.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[220],{8220:function(t,e,o){o.r(e),o.d(e,{default:function(){return k}});var i=o(8683),n=o(885),s=o(2791),l=o(6871),a=o(364),r=o(7781),c={profile:"profile_profile__h64AE",profilePhoto:"profile_profilePhoto__GmtcI",button:"profile_button__N95er",lookingForAJobDescription:"profile_lookingForAJobDescription__XuqYS",contacts_item:"profile_contacts_item__BkDT+",profilePhoto_button:"profile_profilePhoto_button__DK5fe",field_LookingForAJobDescription:"profile_field_LookingForAJobDescription__qT9+F",statusInputForm:"profile_statusInputForm__LQsxh",updataPhotoInput_button:"profile_updataPhotoInput_button__9EC+V"},u=o(1207),f=o(7541),d=o(6139),p=o(1232),m=o(184),h=(0,p.Z)({form:"profileInput",enableReinitialize:!0})((function(t){return(0,m.jsxs)("form",{onSubmit:t.handleSubmit,className:c.profileInputForm,children:[(0,m.jsx)("div",{className:c.field,children:(0,m.jsx)(d.Z,{name:"aboutMe",type:"text",component:f.b,label:"AboutMe"})}),(0,m.jsx)("div",{className:c.field,children:(0,m.jsx)(d.Z,{name:"fullName",type:"text",component:f.b,label:"FullName"})}),(0,m.jsx)("div",{className:c.field,children:(0,m.jsx)(d.Z,{name:"lookingForAJob",type:"checkbox",component:f.b,label:"lookingForAJob"})}),(0,m.jsx)("div",{className:c.field_LookingForAJobDescription,children:(0,m.jsx)(d.Z,{name:"lookingForAJobDescription",type:"text",component:f._,label:"LookingForAJobDescription"})}),(0,m.jsxs)("div",{className:c.contacts,children:["contacts:",Object.keys(t.dataClientProfile.contacts).map((function(t){return(0,m.jsx)("div",{className:c.contacts_item,children:(0,m.jsx)(d.Z,{name:"contacts."+t,type:"text",component:f.b,label:t})},t)}))]}),(0,m.jsx)("div",{className:c.field,children:(0,m.jsx)("button",{type:"submit",className:c.profilePhoto_button,children:"Set new profile"})})]})})),x=(0,s.memo)((function(t){return t.dataClientProfile?(0,m.jsxs)("div",{children:[!t.editMode&&(0,m.jsxs)("div",{className:c.profile,children:[(0,m.jsxs)("div",{className:c.fullName,children:["fullName:      ",(0,m.jsxs)("span",{children:[" ",t.dataClientProfile.fullName]})]}),(0,m.jsxs)("div",{className:c.fullName,children:["lookingForAJob: ",t.dataClientProfile.lookingForAJob?(0,m.jsx)("input",{type:"checkbox",onChange:function(){},checked:"checked"}):(0,m.jsx)("input",{type:"button",className:c.button})]}),(0,m.jsxs)("div",{className:c.fullName,children:["lookingForAJobDescription: ",(0,m.jsx)("div",{className:c.lookingForAJobDescription,children:String(t.dataClientProfile.lookingForAJobDescription)})]}),(0,m.jsxs)("div",{className:c.contacts,children:["contacts:",Object.keys(t.dataClientProfile.contacts).map((function(e){return(0,m.jsxs)("div",{className:c.contacts_item,children:[e,": ",String(t.dataClientProfile.contacts[e])," "]},e)}))]}),t.isOwner&&(0,m.jsx)("button",{onClick:function(){return t.setEditMode(!0)},className:c.profilePhoto_button,children:"Change profile"})]}),t.editMode&&(0,m.jsx)(h,(0,i.Z)((0,i.Z)({},t),{},{initialValues:t.dataClientProfile}))]}):(0,m.jsx)(u.Z,{})})),b=o(9994),j=function(t){var e=(0,s.useState)(" "),o=(0,n.Z)(e,2),i=o[0],l=o[1];return(0,m.jsxs)("div",{className:c.updataPhotoInput_button,children:[(0,m.jsx)("input",{type:"file",onChange:function(t){t.target.files[0]&&l(t.target.files[0])}}),(0,m.jsx)("button",{onClick:function(e){e.preventDefault(),t.updataPhoto(i)},children:(0,m.jsx)("span",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c"})})]})},g=o(9485),_=(0,s.memo)((function(t){return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:c.profilePhoto,children:t.photo?(0,m.jsx)("img",{src:t.photo,alt:""}):(0,m.jsx)("img",{src:g,alt:""})}),t.isOwner&&(0,m.jsx)(j,(0,i.Z)({},t))]})})),P=(0,s.memo)((function(t){var e=(0,s.useRef)(t.profileStatus);(0,s.useEffect)((function(){e.current.value=t.profileStatus}),[t.profileStatus]);return(0,m.jsxs)("div",{className:c.statusInputForm,children:[(0,m.jsx)("label",{children:"Status"}),(0,m.jsx)("div",{children:(0,m.jsx)("input",{defaultValue:t.profileStatus,ref:e,type:"text",onBlur:function(){t.isOwner?t.putStatus(e.current.value):e.current.value=t.profileStatus}})})]})})),N=o(2286),k=(0,r.qC)((0,a.$j)((function(t){return{dataClientProfile:N.a.getDataClientProfile(t),toggleIsFetchingProfile:N.a.getToggleIsFetchingProfile(t),status:N.a.getStatus(t),myId:N.a.getMyId(t),toUpdateProfile:N.a.getToUpdateProfile(t),isAuth:N.a.getIsAuth(t)}}),{getClientProfile:b.Mi,getStatus:b.lR,putStatus:b.WN,putProfile:b.e0,updataPhoto:b.hf}))((function(t){var e=t.status?t.status:"status yok",o=(0,l.UO)().userId,a=o===String(t.myId),r=(0,s.useState)(!1),c=(0,n.Z)(r,2),f=c[0],d=c[1],p=(0,i.Z)({},t),h=p.toUpdateProfile,b=p.status;(0,s.useEffect)((function(){t.getClientProfile(o)}),[h,o]),(0,s.useEffect)((function(){t.getStatus(o)}),[b]);return t.toggleIsFetchingProfile?(0,m.jsx)(u.Z,{}):(0,m.jsxs)(m.Fragment,{children:[" ",!!t.dataClientProfile&&(0,m.jsx)(_,{photo:t.dataClientProfile.photos.large,isOwner:a,updataPhoto:t.updataPhoto,clientId:o}),"  ",!f&&(0,m.jsx)(P,{profileStatus:e,isOwner:a,putStatus:t.putStatus})," ",(0,m.jsx)(x,(0,i.Z)((0,i.Z)({},t),{},{isOwner:a,clientId:o,onSubmit:function(e){t.putProfile(e),d(!1)},editMode:f,setEditMode:d,updataPhoto:t.updataPhoto}))]})}))}}]);
//# sourceMappingURL=220.98256e29.chunk.js.map